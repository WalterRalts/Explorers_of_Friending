--[[
    init.lua
    Created: 03/03/2025 23:56:07
    Description: Autogenerated script file for the map GuildFieldMain.
]]--
-- Commonly included lua functions and data
require 'explorers_of_friending.common'
require 'explorers_of_friending.partner'
require 'explorers_of_friending.guildcutscene'

-- Package name
local GuildFieldMain = {}

-------------------------------
-- Map Callbacks
-------------------------------
---GuildFieldMain.Init(map)
--Engine callback function
function GuildFieldMain.Init(map)
  COMMON.RespawnAllies()
  if SV.guild.day == 1 then
    Guild.Day1()
  end
  AI:SetCharacterAI(CH("Teammate1"), "origin.ai.ground_partner", CH('PLAYER'), CH("Teammate2").Position)
  AI:SetCharacterAI(CH("Teammate2"), "origin.ai.ground_partner", CH("Teammate1"), CH("Teammate2").Position)
end

---GuildFieldMain.Enter(map)
--Engine callback function
function GuildFieldMain.Enter(map)
end

---GuildFieldMain.Exit(map)
--Engine callback function
function GuildFieldMain.Exit(map)


end

---GuildFieldMain.Update(map)
--Engine callback function
function GuildFieldMain.Update(map)
  Partner()
end

---GuildFieldMain.GameSave(map)
--Engine callback function
function GuildFieldMain.GameSave(map)


end

---GuildFieldMain.GameLoad(map)
--Engine callback function
function GuildFieldMain.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------

function GuildFieldMain.NorthWest_Touch(obj, activator)
  DUNsection = 0
  COMMON.UnlockWithFanfare("apple_forest", false)
  local dungeon_entrances = SV.guild.dungeons
  local ground_entrances = SV.guild.areas
  COMMON.ShowDestinationMenu(dungeon_entrances, ground_entrances)
end

return GuildFieldMain

