--[[
    init.lua
    Created: 06/29/2025 10:33:41
    Description: Autogenerated script file for the map ApartmentRooms_ch2.
]]--
-- Commonly included lua functions and data
require 'explorers_of_friending.common'

-- Package name
local ApartmentRooms_ch2 = {}

-------------------------------
-- Map Callbacks
-------------------------------
---ApartmentRooms_ch2.Init(map)
--Engine callback function
function ApartmentRooms_ch2.Init(map)

end

---ApartmentRooms_ch2.Enter(map)
--Engine callback function
function ApartmentRooms_ch2.Enter(map)

  GAME:FadeIn(20)

end

---ApartmentRooms_ch2.Exit(map)
--Engine callback function
function ApartmentRooms_ch2.Exit(map)


end

---ApartmentRooms_ch2.Update(map)
--Engine callback function
function ApartmentRooms_ch2.Update(map)


end

---ApartmentRooms_ch2.GameSave(map)
--Engine callback function
function ApartmentRooms_ch2.GameSave(map)


end

---ApartmentRooms_ch2.GameLoad(map)
--Engine callback function
function ApartmentRooms_ch2.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------

-- EnterFunc

function ApartmentRooms_ch2.ApartExit_Touch(obj, activator)
  GAME:FadeOut(false, 10)
  GAME:EnterGroundMap("EntohTownCenter_ch2", "HomeMarker")
end

function ApartmentRooms_ch2.RexioHome_Enter_Touch(obj, activator)
  print("Exiting?")
  GAME:FadeOut(false, 10)
  if SV.entoh_town.HelperChapter < 9 then
    GAME:EnterGroundMap("RexioHome_ch2", "RexioHomeWay")
  else
    GAME:EnterGroundMap("RexioHome", "RexioHomeWay")
  end
end

function ApartmentRooms_ch2.EmptyEnter_Touch(obj, activator)
  local rexio = CH("PLAYER")

  if SV.entoh_town.HelperChapter == 9 then
    UI:SetSpeaker(rexio)
    UI:SetSpeakerEmotion("Sad")
    UI:WaitShowDialogue("...")
  else
    if rex_talk == 0 then
      UI:SetSpeaker(rexio)
      UI:SetSpeakerEmotion("Normal")
      UI:WaitShowDialogue("(Oh wooooooooow. Very interesting stuff in there.)")
      rex_talk = 1
    else
      GROUND:CharAnimateTurnTo(rexio, Dir8.Down, 3)
      COMMON.CharAngry("PLAYER")
      UI:SetSpeaker(rexio)
      UI:SetSpeakerEmotion("Happy")
      UI:WaitShowDialogue("(If my sarcasm still somehow isn't obvious...!)")
    end
  end
end

function ApartmentRooms_ch2.MouseHome_Touch(obj, activator)
  local mampha = CH("Mampha")
  UI:SetSpeaker(activator)
  UI:SetSpeakerEmotion("Stunned")
  UI:WaitShowDialogue("Why is there so much sand in there...?")
end

function ApartmentRooms_ch2.PanchHome_Touch(obj, activator)
  UI:SetSpeaker(activator)
  UI:SetSpeakerEmotion("Normal")
  UI:WaitShowDialogue("...nah. His place looks absolutely trashed.")
  GAME:WaitFrames(30)
  COMMON.CharSweatdrop("PLAYER")
  UI:SetSpeakerEmotion("Worried")
  UI:WaitShowDialogue("...and bamboo'd.")
end

function ApartmentRooms_ch2.EncleenHouse_Touch(obj, activator)
  COMMON.CharSweatdrop("PLAYER")
  UI:SetSpeaker(activator)
  UI:SetSpeakerEmotion("Surprised")
  UI:WaitShowDialogue("(Everyone is gone,[pause=45] but I still feel like I'm being watched.)")
  UI:SetSpeakerEmotion("Pain")
  UI:WaitShowDialogue("(I gotta get out of here.)")
end

function ApartmentRooms_ch2.Upper_Floor_Touch(obj, activator)
  UI:SetSpeaker(activator)
  UI:SetSpeakerEmotion("Normal")
  UI:WaitShowDialogue("(A worker outside said the second floor was a WIP.)")
  UI:SetSpeakerEmotion("Happy")
  UI:WaitShowDialogue("(Heard that fun stuff was gonna be up there.)")
end

return ApartmentRooms_ch2

