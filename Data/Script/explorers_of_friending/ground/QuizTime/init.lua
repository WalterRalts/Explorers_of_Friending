--[[
    init.lua
    Created: 09/17/2024 15:27:51
    Description: Autogenerated script file for the map QuizTime.
]]--
-- Commonly included lua functions and data
require 'origin.common'

-- Package name
local QuizTime = {}

-------------------------------
-- Map Callbacks
-------------------------------
---QuizTime.Init(map)
--Engine callback function
function QuizTime.Init(map)

  local maru = CH("Maru")
  local azura = CH("Azura")
  local puchi = CH("Puchi")
  local senna = CH("Senna")
  local ziggy = CH("Ziggy")

  GAME:FadeIn(5)
  GAME:WaitFrames(10)
  outside_enter = 1
  UI:SetSpeaker(maru)
  UI:SetSpeakerEmotion("Surprised")
  UI:WaitShowDialogue("Whoa!")

  UI:SetSpeaker(puchi)
  UI:SetSpeakerEmotion("Pain")
  UI:WaitShowDialogue("[speed=0.6]Ack...[pause=30] too[emote=Dizzy] bright...!")

  GROUND:CharTurnToCharAnimated(senna, ziggy, 4)
  UI:SetSpeaker(senna)
  UI:SetSpeakerEmotion("Surprised")
  UI:WaitShowDialogue("Z-[pause=30]ziggy...! H[emote=Stunned]ow did you...?!")
  
  UI:SetSpeaker(ziggy)
  UI:SetSpeakerEmotion("Happy")
  UI:WaitShowDialogue("First question!")

  GROUND:CharTurnToCharAnimated(senna, puchi, 4)
  UI:SetSpeaker(senna)
  UI:SetSpeakerEmotion("Sigh")
  UI:WaitShowDialogue("[speed=0.7]Hm...")

  UI:SetSpeaker(ziggy)
  UI:SetSpeakerEmotion("Normal")
  UI:WaitShowDialogue("What color are the Tarro town flowers?")

  GROUND:CharTurnToCharAnimated(senna, ziggy, 4)
  UI:SetSpeaker(senna)
  UI:SetSpeakerEmotion("Stunned")
  UI:WaitShowDialogue("Those grow everywhere around here...")

  GROUND:CharTurnToCharAnimated(ziggy, senna, 4)
  UI:SetSpeaker(ziggy)
  UI:SetSpeakerEmotion("Normal")
  UI:WaitShowDialogue("Gotta make sure they're paying attention.")

  GROUND:CharTurnToCharAnimated(ziggy, maru, 4)
  UI:SetSpeaker(maru)
  UI:SetSpeakerEmotion("Worried")
    local choices = {("Blue!"),
        ("White!"), 
        ("Green!"), 
        ("Red!")}
    UI:BeginChoiceMenu("(What color were the flowers...?)", choices, 1, 4)
    UI:WaitForChoice()
    result = UI:ChoiceResult()
    if result == 2 then
        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Joyous")
        UI:WaitShowDialogue("Correct!")

        UI:SetSpeaker(puchi)
        UI:SetSpeakerEmotion("Pain")
        UI:WaitShowDialogue("...")

        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Joyous")
        UI:WaitShowDialogue("Now then...")
            
        GROUND:CharTurnToCharAnimated(ziggy, puchi, 4)
        UI:SetSpeaker(puchi)
        UI:SetSpeakerEmotion("Determined")
        UI:WaitShowDialogue("Too loud.")

        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Angry")
        UI:WaitShowDialogue("...")

        UI:SetSpeaker(puchi)
        UI:SetSpeakerEmotion("Pain")
        UI:WaitShowDialogue("...")

        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Normal")
        UI:WaitShowDialogue("What were Plus and Minus fighting about?")

        GROUND:CharTurnToCharAnimated(senna, ziggy, 4)
        COMMON.CharSweatdrop("Senna")
        UI:SetSpeaker(senna)
        UI:SetSpeakerEmotion("Sigh")
        UI:WaitShowDialogue("Ziggy...[pause=35] we just stopped that a few minutes ago...")

        GROUND:CharTurnToCharAnimated(ziggy, senna, 4)
        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Normal")
        UI:WaitShowDialogue("Yeah, well, it was in the town!")
        UI:SetSpeaker(maru)
        UI:SetSpeakerEmotion("Worried")
        local choices = {("Height!"),
            ("Flowers!"), 
            ("Color!"), 
            ("Speed!")}
        UI:BeginChoiceMenu("(What were they fighting about...?)", choices, 1, 4)
        UI:WaitForChoice()
        result = UI:ChoiceResult()
        if result == 1 then    
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("They're the same size, aren't they?")
    
            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Worried")
            UI:WaitShowDialogue("Even then, they'd still fight about it...")
    
            UI:SetSpeaker(azura)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("Yeesh...")

            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Normal")
            UI:WaitShowDialogue("Right,[pause=15] you guys can come back later and try it again.")
            quiz_done = 1
        elseif result == 2 then
            UI:SetSpeaker(senna)
            UI:SetSpeakerEmotion("Normal")
            UI:WaitShowDialogue("They all look the same.[pause=30] Doubt it.")
    
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("But some are taller than others...")
    
            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Worried")
            UI:WaitShowDialogue("Would that really even matter...?")
    
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("...probably not.")
    
            UI:SetSpeaker(azura)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("Yeesh...")

            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Normal")
            UI:WaitShowDialogue("Right,[pause=15] you guys can come back later and try it again.")
            quiz_done = 1
        elseif result == 3 then
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Happy")
            UI:WaitShowDialogue("Well done, junior explorers!")

            UI:SetSpeaker(azura)
            UI:SetSpeakerEmotion("Joyous")
            UI:WaitShowDialogue("Yay!")

            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Worried")
            UI:WaitShowDialogue("Don't you have any harder questions?")
    
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Normal")
            UI:WaitShowDialogue("I'm willing to take any ideas.")

            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Normal")
            UI:WaitShowDialogue("Which house is next to the [color=#01FE10]Big Tree[color]?")

            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Happy")
            UI:WaitShowDialogue("Ooh, yeah yeah! [emote=Normal]Just tell me what Pokemon shape it is.")

            UI:SetSpeaker(azura)
            UI:SetSpeakerEmotion("Worried")
            local choices = {("Togekiss!"),
                ("Linoone!"), 
                ("Azumarill!"), 
                ("Plusle and Minun!")}
            UI:BeginChoiceMenu("(What shape is the house next to [color=#01FE10]Tarro Tree[color]?)", choices, 1, 4)
            UI:WaitForChoice()
            result = UI:ChoiceResult()
            if result == 1 then
                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Happy")
                UI:WaitShowDialogue("Alright, three in a row!")
        
                UI:SetSpeaker(puchi)
                UI:SetSpeakerEmotion("Dizzy")
                UI:WaitShowDialogue("I'mma sleep now.")
        
                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Normal")
                UI:WaitShowDialogue("Nuh-uh.")
        
                UI:SetSpeaker(puchi)
                UI:SetSpeakerEmotion("Angry")
                UI:WaitShowDialogue("[speed=0.6].........")

                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Normal")
                UI:WaitShowDialogue("Nuh-uh.")
            elseif result == 2 then
                COMMON.CharSweatdrop("Senna")
                UI:SetSpeaker(senna)
                UI:SetSpeakerEmotion("Stunned")
                UI:WaitShowTimedDialogue("That's not...?")

                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Inspired")
                UI:WaitShowDialogue("We live next to the [color=#01FE10]Big Tree[color]?!")

                UI:SetSpeaker(senna)
                UI:SetSpeakerEmotion("Worried")
                UI:WaitShowDialogue("No, Ziggy...")

                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Sad")
                UI:WaitShowDialogue("Aww...")
                UI:WaitShowDialogue("I'm sorry... [pause=55]but you got it wrong...")
                UI:SetSpeakerEmotion("Teary-Eyed")
                UI:WaitShowDialogue("[speed=0.6]You can...[pause=55] try again... [pause=43]*sniffle*...")

                UI:SetSpeaker(senna)
                UI:SetSpeakerEmotion("Worried")
                UI:WaitShowDialogue("Aww... Ziggy.")
                quiz_done = 1
            elseif result == 3 then
                COMMON.CharSweatdrop("Senna")
                COMMON.CharSweatdrop("Ziggy")
                COMMON.CharSweatdrop("Puchi")
                GROUND:CharTurnToCharAnimated(senna, azura, 4)
                GROUND:CharTurnToCharAnimated(puchi, azura, 4)
                GROUND:CharTurnToCharAnimated(ziggy, azura, 4)
                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Stunned")
                UI:WaitShowTimedDialogue("Azu... that's your house.")

                UI:SetSpeaker(senna)
                UI:SetSpeakerEmotion("Happy")
                UI:WaitShowDialogue("You got nervous there, Azura?")

                UI:SetSpeaker(azura)
                UI:SetSpeakerEmotion("Worried")
                UI:WaitShowDialogue("Hehe...[pause=45] w[emote=Stunned]hoops...")

                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Happy")
                UI:WaitShowDialogue("I'd want to be next to it, too. But since you're wrong, you can come back later and try again.")
                quiz_done = 1
            elseif result == 4 then
                GROUND:CharTurnToCharAnimated(senna, azura, 4)
                GROUND:CharTurnToCharAnimated(puchi, azura, 4)
                GROUND:CharTurnToCharAnimated(ziggy, azura, 4)
                UI:SetSpeaker(ziggy)
                UI:SetSpeakerEmotion("Happy")
                UI:WaitShowTimedDialogue("Oof,[pause=25] so close.")
                UI:SetSpeakerEmotion("Normal")
                UI:WaitShowDialogue("But since you're wrong, you can come back later and try again.")
                quiz_done = 1
            end
        elseif result == 4 then
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Happy")
            UI:WaitShowDialogue("Nope, that was last week![pause=30] Haha!")
    
            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Determined")
            UI:WaitShowDialogue("How come I wasn't woken up for that one?")
    
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("Uh, well... i-it... uh...")
    
            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Angry")
            UI:WaitShowDialogue("Grrrrr...!")
    
            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Pain")
            UI:WaitShowDialogue("Eep!")
    
            UI:SetSpeaker(senna)
            UI:SetSpeakerEmotion("Stunned")
            UI:WaitShowDialogue("Oooo[pause=15]kaaaaay,[pause=30] y[emote=Happy]ou two can come back and try again.")
    
            UI:SetSpeaker(puchi)
            UI:SetSpeakerEmotion("Determined")
            UI:WaitShowDialogue("You [pause=25]o[emote=Angry]we me, Ziggy...!")

            UI:SetSpeaker(ziggy)
            UI:SetSpeakerEmotion("Normal")
            UI:WaitShowDialogue("Nope, nuh-uh, can't hear you.")
            quiz_done = 1
        end
    else
        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Normal")
        UI:WaitShowDialogue("That's...[pause=45] wrong.[emote=Worried]")
        UI:SetSpeakerEmotion("Stunned")
        UI:WaitShowDialogue("Like, really wrong.")

        UI:SetSpeaker(senna)
        UI:SetSpeakerEmotion("Happy")
        UI:WaitShowDialogue("Didn't think you'd miss that one...")

        UI:SetSpeaker(ziggy)
        UI:SetSpeakerEmotion("Normal")
        UI:WaitShowDialogue("You guys must be rushing![pause=0] Go explore for real and come back for a rematch!")
        quiz_done = 1
    end
    GAME:EnterGroundMap("TarroTownSquare", "Quiz_Fail")
    
  --[[case menu('Yes.'):
                  Wait(30);
                  Unlock(2);
                  message_SetFace(ACTOR_NPC_PUCHI, FACE_PAIN, FACE_POS_STANDARD);
                  message_Talk(' Ack... too bright...!');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  with (actor ACTOR_NPC_SENNA) {
                      Turn2DirectionLives(4, 10, ACTOR_NPC_ZIGGY);
                  }
                  with (actor ACTOR_NPC_SENNA) {
                      MoveHeight(2, 5);
                  }
                  with (actor ACTOR_NPC_SENNA) {
                      MoveHeight(2, 0);
                  }
                  message_SetFace(ACTOR_NPC_SENNA, FACE_SURPRISED, FACE_POS_STANDARD);
                  message_Talk(' Ziggy...! How did...?!');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                  message_Talk(' First question!');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  with (actor ACTOR_NPC_SENNA) {
                      Turn2DirectionMark(4, 1, Position<'m17', 16, 9.5>, 1, 1);
                  }
                  with (actor ACTOR_NPC_ZIGGY) {
                      Turn2DirectionMark(4, 1, Position<'m18', 16, 9.5>, 1, 1);
                  }
                  with (actor ACTOR_PLAYER) {
                      Turn2DirectionMark(4, 1, Position<'m19', 16, 9.5>, 1, 1);
                  }
                  with (actor ACTOR_ATTENDANT1) {
                      Turn2DirectionMark(4, 1, Position<'m20', 16, 9.5>, 1, 1);
                  }
                  message_SetFace(ACTOR_NPC_SENNA, FACE_SIGH, FACE_POS_STANDARD);
                  message_Talk(' Hm...');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  with (actor ACTOR_NPC_SENNA) {
                      Turn2DirectionMark(4, 1, Position<'m21', 16, 9.5>, 1, 1);
                  }
                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                  message_Talk(' What color are the flowers around here?');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  with (actor ACTOR_NPC_ZIGGY) {
                      Turn2DirectionLives(4, 2, ACTOR_NPC_SENNA);
                  }
                  with (actor ACTOR_NPC_SENNA) {
                      Turn2DirectionLives(4, 2, ACTOR_NPC_ZIGGY);
                  }
                  message_SetFace(ACTOR_NPC_SENNA, FACE_STUNNED, FACE_POS_STANDARD);
                  message_Talk(' ...you don\'t need to explore the town for that.');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                  message_Talk(' Well, they\'re here, so...');
                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                  with (actor ACTOR_NPC_SENNA) {
                      Turn2DirectionMark(4, 1, Position<'m22', 16, 9.5>, 1, 1);
                  }
                  with (actor ACTOR_NPC_ZIGGY) {
                      Turn2DirectionMark(4, 1, Position<'m23', 16, 9.5>, 1, 1);
                  }
                  message_Mail('What color are the flowers around here?');]]
                  --[[switch ( message_SwitchMenu(0, 1) ) {
                        --[[case menu('White?'):
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                          message_Talk(' Correct!');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_PUCHI, FACE_PAIN, FACE_POS_STANDARD);
                          message_Talk(' ...');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                          message_Talk(' Alrighty, next!');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_PUCHI, FACE_DETERMINED, FACE_POS_STANDARD);
                          message_Talk(' ...too loud...');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_ANGRY, FACE_POS_STANDARD);
                          message_Talk(' ...');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_PUCHI, FACE_PAIN, FACE_POS_STANDARD);
                          message_Talk(' ...');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                          message_Talk(' What were Plus and Minus arguing about today?');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_SENNA, FACE_SIGH, FACE_POS_STANDARD);
                          message_Talk(' Ziggy... we just stopped that a few minutes ago...');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                          message_Talk(' I gotta make sure they\'re paying \nattention!');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          message_Mail('What were Plus and Minus arguing about today?');]]
                          --[[switch ( message_SwitchMenu(0, 1) ) {
                              case menu('Height?'):
                                  message_SetFace(ACTOR_NPC_PUCHI, FACE_WORRIED, FACE_POS_STANDARD);
                                  message_Talk(' They\'re the same size...');
                                  message_Talk(' ...[W:30]and even then...');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                                  message_Talk(' You guys can try again!');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  §label_11;
                                  screen_FadeOut(1, 2);
                                  screen2_FadeOut(1, 2);
                                  back2_SetMode(1);
                                  main_SetGround(LEVEL_TTOWNSQW);
                                  back_SetGround(LEVEL_TTOWNSQW);
                                  supervision_StationCommon(0);
                                  supervision_StationCommon(1);
                                  supervision_StationCommon(2);
                                  supervision_StationCommon(3);
                                  Wait(10);
                                  with (actor ACTOR_NPC_SENNA) {
                                      MovePositionMark(0, Position<'m24', 64.5, 51.5>);
                                  }
                                  with (actor ACTOR_NPC_ZIGGY) {
                                      MovePositionMark(0, Position<'m25', 58.5, 51.5>);
                                  }
                                  with (actor ACTOR_PLAYER) {
                                      MovePositionMark(0, Position<'m26', 57, 46.5>);
                                  }
                                  with (actor ACTOR_ATTENDANT1) {
                                      MovePositionMark(0, Position<'m27', 65, 46.5>);
                                  }
                                  with (actor ACTOR_NPC_PUCHI) {
                                      Slide2PositionMark(0, Position<'m28', 61, 44.5>);
                                  }
                                  with (actor ACTOR_NPC_SENNA) {
                                      Turn2DirectionMark(4, 1, Position<'m29', 61, 48>, 1, 1);
                                  }
                                  with (actor ACTOR_NPC_ZIGGY) {
                                      Turn2DirectionMark(4, 1, Position<'m30', 61, 48>, 1, 1);
                                  }
                                  with (actor ACTOR_PLAYER) {
                                      Turn2DirectionMark(4, 1, Position<'m31', 61, 48>, 1, 1);
                                  }
                                  with (actor ACTOR_ATTENDANT1) {
                                      Turn2DirectionMark(4, 1, Position<'m32', 61, 48>, 1, 1);
                                  }
                                  with (performer 0) {
                                      camera_SetDefault();
                                  }
                                  Wait(10);
                                  screen_FadeIn(1, 2);
                                  screen2_FadeIn(1, 2);
                                  JumpCommon(CORO_END_TALK);]]
                              --[[case menu('Flowers?'):
                                  message_SetFace(ACTOR_NPC_SENNA, FACE_NORMAL, FACE_POS_STANDARD);
                                  message_Talk(' All the flowers around here are the same.');
                                  message_Talk(' I don\'t think they could argue about that.');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  Wait(30);
                                  with (actor ACTOR_NPC_SENNA) {
                                      SetEffect(EFFECT_SWEAT_DROP, 3);
                                  }
                                  message_SetFace(ACTOR_NPC_SENNA, FACE_SIGH, FACE_POS_STANDARD);
                                  message_Talk(' A-at least... I\'d hope they wouldn\'t...');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_PUCHI, FACE_PAIN, FACE_POS_STANDARD);
                                  message_Talk(' Judging by things I\'ve seen...?');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_STUNNED, FACE_POS_STANDARD);
                                  message_Talk(' Yeah, anyway...');
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                                  message_Talk(' You guys should try again!');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  jump @label_11;
                              case menu('Color?'):
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_INSPIRED, FACE_POS_STANDARD);
                                  message_Talk(' Correct, you\'re on a roll!');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_PUCHI, FACE_NORMAL, FACE_POS_STANDARD);
                                  message_Talk(' Ask them something harder.');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_PUCHI, FACE_NORMAL, FACE_POS_STANDARD);
                                  message_Talk(' Like... \"what house is next to the [CS:O]Big Tree![CR]?\"');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_INSPIRED, FACE_POS_STANDARD);
                                  message_Talk(' Good one, Puchi!');
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                  message_Talk(' That\'s the next question!');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_Mail('What house is next to the [CS:O]Big Tree![CR]?');
                                  switch ( message_SwitchMenu(0, 1) ) {}]]
                                      --[[case menu('Togekiss?'):
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_INSPIRED, FACE_POS_STANDARD);
                                          message_Talk(' Whoo! Three in a row! You\'re doing good!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_JOYOUS, FACE_POS_STANDARD);
                                          message_Talk(' One more question and you\'ll be true explorers!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_PLAYER_AZURA, FACE_JOYOUS, FACE_POS_STANDARD);
                                          message_Talk(' Yippee!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_PUCHI, FACE_SAD, FACE_POS_STANDARD);
                                          message_Talk(' I gave you an idea. Can I sleep now...?');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_JOYOUS, FACE_POS_STANDARD);
                                          message_Talk(' Nuh-uh!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          with (actor ACTOR_NPC_PUCHI) {
                                              SetAnimation(81);
                                          }
                                          message_SetFace(ACTOR_NPC_PUCHI, FACE_PAIN, FACE_POS_STANDARD);
                                          message_Talk(' Ugghhh, whyyyyy?');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                          message_Talk(' Now, there are a good number of stores in the [CS:O]Big Tree![CR].');
                                          message_Talk(' Pretty handy, really.');
                                          message_Talk(' But how many shops are outside, [W:20]not including the hospital store?');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          --[[switch ( message_SwitchMenu(0, 1) ) {
                                              case menu('1?'):
                                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_JOYOUS, FACE_POS_STANDARD);
                                                  message_Talk(' Hah! I must\'ve tricked you with that one!');
                                                  message_Talk(' I am such a trickster! [W:40] Whoo!');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  message_SetFace(ACTOR_NPC_SENNA, FACE_WORRIED, FACE_POS_STANDARD);
                                                  message_Talk(' Isn\'t there only one?');
                                                  message_Talk(' The Kecleon shop is right there.');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                                                  message_Talk(' Another shop opened up recently!');
                                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_JOYOUS, FACE_POS_STANDARD);
                                                  message_Talk(' So I win! Hahaha!');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  message_SetFace(ACTOR_NPC_SENNA, FACE_HAPPY, FACE_POS_STANDARD);
                                                  message_Talk(' Ah well... come back and try again.');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);]]
                                                  --[[§label_17;
                                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_JOYOUS, FACE_POS_STANDARD);
                                                  message_Talk(' Hah! I must\'ve tricked you with that one!');
                                                  Wait(30);
                                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_STUNNED, FACE_POS_STANDARD);
                                                  message_Talk(' Oh wait... 2. [W:30]Never mind.[W:25][FACE:0] You got it.');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  §label_13;
                                                  Wait(75);
                                                  with (actor ACTOR_NPC_SENNA) {
                                                      SetEffect(EFFECT_SWEAT_DROP, 3);
                                                  }
                                                  with (actor ACTOR_NPC_ZIGGY) {
                                                      SetEffect(EFFECT_SWEAT_DROP, 3);
                                                  }
                                                  with (actor ACTOR_NPC_PUCHI) {
                                                      SetEffect(EFFECT_SWEAT_DROP, 3);
                                                  }
                                                  message_SetFace(ACTOR_NPC_SENNA, FACE_STUNNED, FACE_POS_STANDARD);
                                                  message_Talk(' Um... that\'s your house.');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  message_SetFace(ACTOR_NPC_PUCHI, FACE_STUNNED, FACE_POS_STANDARD);
                                                  message_Talk(' Are you guys tired, too?');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  message_SetFace(ACTOR_PLAYER_MARU, FACE_STUNNED, FACE_POS_STANDARD);
                                                  message_Talk(' Whoops...');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                                  message_Talk(' Well... [W:20]that was wrong, so... [W:35]try again later!');
                                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                                  jump @label_11;
                                              case menu('5?'):
                                              case menu('4?'):
                                                  jump @label_11;
                                              case menu('2?'):
                                                  jump @label_17;
                                              default:
                                                  jump @label_13;
                                          }
                                          break;
                                      case menu('Azumarill?'):
                                          jump @label_13;
                                      case menu('Plusle and Minun?'):
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                          message_Talk(' So close, but nope!');
                                          message_Talk(' Try looking again!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_PUCHI, FACE_STUNNED, FACE_POS_STANDARD);
                                          message_Talk(' Yeah, hurry up so I can go home...');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          jump @label_11;
                                      case menu('Linoone?'):
                                          with (actor ACTOR_NPC_SENNA) {
                                              SetEffect(EFFECT_SWEAT_DROP, 3);
                                          }
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_INSPIRED, FACE_POS_STANDARD);
                                          message_Talk(' Wait! We live next to the [CS:O]Big Tree![CR]?!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_SENNA, FACE_NORMAL, FACE_POS_STANDARD);
                                          message_Talk(' No, Ziggy.');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_SAD, FACE_POS_STANDARD);
                                          message_Talk(' Awwwwww...');
                                          message_Talk(' You got the question wrong...');
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_TEARY_EYED, FACE_POS_STANDARD);
                                          message_Talk(' Try again later...[W:25] *sniffle*...');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_SENNA, FACE_WORRIED, FACE_POS_STANDARD);
                                          message_Talk(' Aww, Ziggy.');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          jump @label_11;
                                      default:
                                          §label_10;
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                                          message_Talk(' Nope, that was last week, haha!');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_PUCHI, FACE_DETERMINED, FACE_POS_STANDARD);
                                          message_Talk(' I wasn\'t here for that one.');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_STUNNED, FACE_POS_STANDARD);
                                          message_Talk(' Well... uh...');
                                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                          message_Talk(' This was different. [W:25] They were more mad.');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_PUCHI, FACE_DETERMINED, FACE_POS_STANDARD);
                                          message_Talk(' You... [W:20]owe me...');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          message_SetFace(ACTOR_NPC_SENNA, FACE_HAPPY, FACE_POS_STANDARD);
                                          message_Talk(' Come back and try again later.');
                                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                          jump @label_11;
                                  }
                                  break;
                              case menu('Speed?'):
                                  jump @label_10;
                              default:
                                  §label_6;
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                  message_Talk(' That is...[K] [FACE:5]wrong.');
                                  message_Talk(' ...like, [W:35]really wrong.');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_SENNA, FACE_HAPPY, FACE_POS_STANDARD);
                                  message_Talk(' Didn\'t think you\'d miss that one...');
                                  message_Talk(' Might wanna try again later.');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  message_SetFace(ACTOR_NPC_ZIGGY, FACE_NORMAL, FACE_POS_STANDARD);
                                  message_Talk(' You guys must be rushing! [K]Go explore \nfor real and come back for a rematch!');
                                  CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                                  jump @label_11;
                          }
                          break;
                      case menu('Blue?'):
                      case menu('Green?'):
                      case menu('Gray?'):
                          jump @label_6;
                      default:
                          §label_4;
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_HAPPY, FACE_POS_STANDARD);
                          message_Talk(' Alrighty! We\'ll be waiting here!');
                          message_SetFace(ACTOR_NPC_ZIGGY, FACE_JOYOUS, FACE_POS_STANDARD);
                          message_Talk(' Make sure you find everything!');
                          CallCommon(CORO_MESSAGE_CLOSE_WAIT_FUNC);
                          with (performer 0) {
                              camera_SetDefault();
                          }
                          JumpCommon(CORO_END_TALK);
                  }
                  break;
              case menu('No.'):]]
end

---QuizTime.Enter(map)
--Engine callback function
function QuizTime.Enter(map)

  GAME:FadeIn(20)

end

---QuizTime.Exit(map)
--Engine callback function
function QuizTime.Exit(map)


end

---QuizTime.Update(map)
--Engine callback function
function QuizTime.Update(map)


end

---QuizTime.GameSave(map)
--Engine callback function
function QuizTime.GameSave(map)


end

---QuizTime.GameLoad(map)
--Engine callback function
function QuizTime.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------


return QuizTime

