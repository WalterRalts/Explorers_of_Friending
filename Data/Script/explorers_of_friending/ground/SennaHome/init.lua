--[[
    init.lua
    Created: 01/03/2025 23:19:02
    Description: Autogenerated script file for the map SennaHome.
]]--
-- Commonly included lua functions and data
require 'origin.common'

-- Package name
local SennaHome = {}

-------------------------------
-- Map Callbacks
-------------------------------
---SennaHome.Init(map)
--Engine callback function
function SennaHome.Init(map)
  MapStrings = STRINGS.MapStrings
  COMMON.RespawnAllies()
  local partner = CH('Teammate1')
  partner.CollisionDisabled = true
  AI:SetCharacterAI(partner, "origin.ai.ground_partner", CH('PLAYER'), partner.Position)
  GAME:CutsceneMode(false)
end

---SennaHome.Enter(map)
--Engine callback function
function SennaHome.Enter(map)

  GAME:FadeIn(20)

end

---SennaHome.Exit(map)
--Engine callback function
function SennaHome.Exit(map)


end

---SennaHome.Update(map)
--Engine callback function
function SennaHome.Update(map)


end

---SennaHome.GameSave(map)
--Engine callback function
function SennaHome.GameSave(map)


end

---SennaHome.GameLoad(map)
--Engine callback function
function SennaHome.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------
function SennaHome.Beel_Action(obj, activator)
  local maru = CH("PLAYER")
  local azura = CH('Teammate1')
  local puchi = CH("Puchi")
  local senna = CH("Senna")
  local ziggy = CH("Ziggy")

  UI:SetSpeaker(senna)
  UI:SetSpeakerEmotion("Worried")
  UI:WaitShowDialogue("I don't know if my brain could handle it...")
  UI:SetSpeakerEmotion("Normal")
  UI:WaitShowDialogue("You saw how I was in that dungeon.")

  UI:SetSpeaker(ziggy)
  UI:SetSpeakerEmotion("Happy")
  UI:WaitShowDialogue("Pfffffft[pause=25], you'll be fiiiiiine!")

  UI:SetSpeaker(senna)
  UI:SetSpeakerEmotion("Sigh")
  UI:WaitShowDialogue("Mmm,[pause=40] s[emote=Stunned]ome other time, m-maybe?")

  GAME:WaitFrames(10)
  COMMON.FaceEachother("Ziggy", "Azura")
  
  GAME:WaitFrames(10)
  COMMON.FaceEachother("Senna", "Maru")

  UI:SetSpeaker(ziggy)
  UI:SetSpeakerEmotion("Joyous")
  UI:WaitShowDialogue("AZU!")

  UI:SetSpeaker(azura)
  UI:SetSpeakerEmotion("Joyous")
  UI:WaitShowDialogue("ZIG!")

  UI:SetSpeaker(senna)
  UI:SetSpeakerEmotion("Happy")
  UI:WaitShowDialogue("Hey, Maru. Azura. Been a while since you've visited.")
  UI:WaitShowDialogue("Ziggy and I were talking about more dungeons...")

  COMMON.FaceEachother("Ziggy", "Senna")

  UI:SetSpeaker(ziggy)
  UI:SetSpeakerEmotion("Happy")
  UI:WaitShowDialogue("Yeah! Senna's got great at battling!")
end

return SennaHome

