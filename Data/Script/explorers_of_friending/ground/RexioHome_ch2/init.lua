--[[
    init.lua
    Created: 03/08/2025 23:56:33
    Description: Autogenerated script file for the map RexioHome_ch2.
]]--
-- Commonly included lua functions and data
require 'origin.common'
require 'explorers_of_friending.ground.RexioHome_ch2.cutscene'

-- Package name
local RexioHome_ch2 = {}

-------------------------------
-- Map Callbacks
-------------------------------
---RexioHome_ch2.Init(map)
--Engine callback function
function RexioHome_ch2.Init(map)

  if SV.entoh_town.HelperChapter < 6 then
    Aurm.AFeeling()
  end
end

---RexioHome_ch2.Enter(map)
--Engine callback function
function RexioHome_ch2.Enter(map)
  GAME:FadeIn(20)
end

---RexioHome_ch2.Exit(map)
--Engine callback function
function RexioHome_ch2.Exit(map)

end

---RexioHome_ch2.Update(map)
--Engine callback function
function RexioHome_ch2.Update(map)

end

---RexioHome_ch2.GameSave(map)
--Engine callback function
function RexioHome_ch2.GameSave(map)

end

---RexioHome_ch2.GameLoad(map)
--Engine callback function
function RexioHome_ch2.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------
function RexioHome_ch2.ApartmentEnter_Touch(obj, activator)
  GAME:FadeOut(false, 10)
  GAME:EnterGroundMap("ApartmentRooms_ch2", "RexioExit")
end

function RexioHome_ch2.Poster_Action(obj, activator)
  local rexio = CH("PLAYER")

  UI:SetSpeaker(rexio)
  UI:SetSpeakerEmotion("Worried")
  UI:WaitShowDialogue("(The poster's still here, at least.)")
  UI:SetSpeakerEmotion("Sad")
  UI:WaitShowDialogue("(...but where did Dad go?)")
end

function RexioHome_ch2.FlowerPot_Action(obj, activator)
  local rexio = CH("PLAYER")

  UI:SetSpeaker(rexio)
  UI:SetSpeakerEmotion("Worried")
  UI:WaitShowDialogue("(Mom picked these flowers before she left. Said they were made for me...)")
  UI:WaitShowDialogue("(...)")
  GROUND:CharSetAnim(rexio, "None", true)
  GAME:WaitFrames(95)
  COMMON.CharHop("PLAYER")
  UI:SetSpeakerEmotion("Determined")
  UI:WaitShowDialogue("(I'll take good care of them, mom.)")
  GROUND:CharSetAnim(rexio, "Idle", true)
end

return RexioHome_ch2

